<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
><head
  ><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"
     /><title
    >NationStates.Core</title
    ><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean"
     /><script src="haddock-util.js" type="text/javascript"
    ></script
    ><script type="text/javascript"
    >//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_NationStates-Core.html");};
//]]>
</script
    ></head
  ><body
  ><div id="package-header"
    ><ul class="links" id="page-menu"
      ><li
	><a href="src/NationStates.Core.html"
	  >Source</a
	  ></li
	><li
	><a href="index.html"
	  >Contents</a
	  ></li
	><li
	><a href="doc-index.html"
	  >Index</a
	  ></li
	></ul
      ><p class="caption"
      >nationstates-0.5.0.0: NationStates API client</p
      ></div
    ><div id="content"
    ><div id="module-header"
      ><table class="info"
	><tr
	  ><th
	    >Safe Haskell</th
	    ><td
	    >None</td
	    ></tr
	  ><tr
	  ><th
	    >Language</th
	    ><td
	    >Haskell2010</td
	    ></tr
	  ></table
	><p class="caption"
	>NationStates.Core</p
	></div
      ><div id="table-of-contents"
      ><p class="caption"
	>Contents</p
	><ul
	><li
	  ><a href="#g:1"
	    >Requests</a
	    ></li
	  ><li
	  ><a href="#g:2"
	    >Query strings</a
	    ></li
	  ><li
	  ><a href="#g:3"
	    >Connection manager</a
	    ></li
	  ><li
	  ><a href="#g:4"
	    >Utilities</a
	    ></li
	  ><li
	  ><a href="#g:5"
	    >Data structures</a
	    ></li
	  ></ul
	></div
      ><div id="description"
      ><p class="caption"
	>Description</p
	><div class="doc"
	><p
	  >Low-level tools for querying the NationStates API.</p
	  ><p
	  >Most of the time, you should use the high-level wrappers in e.g.
 <a href="NationStates-Nation.html"
	    >NationStates.Nation</a
	    > instead. But if you need something not provided
 by these wrappers, then feel free to use this module directly.</p
	  ></div
	></div
      ><div id="synopsis"
      ><p id="control.syn" class="caption expander" onclick="toggleSection('syn')"
	>Synopsis</p
	><ul id="section.syn" class="hide" onclick="toggleSection('syn')"
	><li class="src short"
	  ><span class="keyword"
	    >type</span
	    > <a href="#t:NS"
	    >NS</a
	    > = <a href="https://hackage.haskell.org/package/transformers-0.4.2.0/docs/Data-Functor-Compose.html#t:Compose"
	    >Compose</a
	    > (<a href="https://hackage.haskell.org/package/ghc-prim-0.4.0.0/docs/GHC-Tuple.html#t:-40--44--41-"
	    >(,)</a
	    > <a href="NationStates-Core.html#t:Query"
	    >Query</a
	    >) (<a href="https://hackage.haskell.org/package/transformers-0.4.2.0/docs/Data-Functor-Compose.html#t:Compose"
	    >Compose</a
	    > ((-&gt;) <a href="NationStates-Core.html#t:Query"
	    >Query</a
	    >) ((-&gt;) <a href="https://hackage.haskell.org/package/xml-1.3.14/docs/Text-XML-Light-Types.html#t:Element"
	    >Element</a
	    >))</li
	  ><li class="src short"
	  ><a href="#v:makeNS"
	    >makeNS</a
	    > :: <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-String.html#t:String"
	    >String</a
	    > -&gt; <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-String.html#t:String"
	    >String</a
	    > -&gt; <a href="NationStates-Core.html#t:NS"
	    >NS</a
	    > <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-String.html#t:String"
	    >String</a
	    ></li
	  ><li class="src short"
	  ><a href="#v:makeNS-39-"
	    >makeNS'</a
	    > :: <a href="NationStates-Core.html#t:Query"
	    >Query</a
	    > -&gt; (<a href="NationStates-Core.html#t:Query"
	    >Query</a
	    > -&gt; <a href="https://hackage.haskell.org/package/xml-1.3.14/docs/Text-XML-Light-Types.html#t:Element"
	    >Element</a
	    > -&gt; a) -&gt; <a href="NationStates-Core.html#t:NS"
	    >NS</a
	    > a</li
	  ><li class="src short"
	  ><a href="#v:requestNS"
	    >requestNS</a
	    > :: <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-Maybe.html#t:Maybe"
	    >Maybe</a
	    > (<a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-String.html#t:String"
	    >String</a
	    >, <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-String.html#t:String"
	    >String</a
	    >) -&gt; <a href="NationStates-Core.html#t:NS"
	    >NS</a
	    > a -&gt; <a href="NationStates-Core.html#t:Context"
	    >Context</a
	    > -&gt; <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/System-IO.html#t:IO"
	    >IO</a
	    > a</li
	  ><li class="src short"
	  ><a href="#v:apiVersion"
	    >apiVersion</a
	    > :: <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Prelude.html#t:Integer"
	    >Integer</a
	    ></li
	  ><li class="src short"
	  ><span class="keyword"
	    >data</span
	    > <a href="#t:Query"
	    >Query</a
	    > = <a href="#v:Query"
	    >Query</a
	    > {<ul class="subs"
	    ><li
	      ><a href="#v:queryShards"
		>queryShards</a
		> :: <a href="https://hackage.haskell.org/package/containers-0.5.6.2/docs/Data-Map-Lazy.html#t:Map"
		>Map</a
		> <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-String.html#t:String"
		>String</a
		> (<a href="https://hackage.haskell.org/package/containers-0.5.6.2/docs/Data-Set.html#t:Set"
		>Set</a
		> (<a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-Maybe.html#t:Maybe"
		>Maybe</a
		> <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Prelude.html#t:Integer"
		>Integer</a
		>))</li
	      ><li
	      ><a href="#v:queryOptions"
		>queryOptions</a
		> :: <a href="https://hackage.haskell.org/package/containers-0.5.6.2/docs/Data-Map-Lazy.html#t:Map"
		>Map</a
		> <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-String.html#t:String"
		>String</a
		> <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-String.html#t:String"
		>String</a
		></li
	      ><li
	      ><a href="#v:queryParams"
		>queryParams</a
		> :: <a href="https://hackage.haskell.org/package/containers-0.5.6.2/docs/Data-Map-Lazy.html#t:Map"
		>Map</a
		> <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-String.html#t:String"
		>String</a
		> <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-String.html#t:String"
		>String</a
		></li
	      ></ul
	    >}</li
	  ><li class="src short"
	  ><a href="#v:shard"
	    >shard</a
	    > :: <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-String.html#t:String"
	    >String</a
	    > -&gt; <a href="NationStates-Core.html#t:Query"
	    >Query</a
	    ></li
	  ><li class="src short"
	  ><a href="#v:shard-39-"
	    >shard'</a
	    > :: <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-String.html#t:String"
	    >String</a
	    > -&gt; <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Prelude.html#t:Integer"
	    >Integer</a
	    > -&gt; <a href="NationStates-Core.html#t:Query"
	    >Query</a
	    ></li
	  ><li class="src short"
	  ><a href="#v:withOptions"
	    >withOptions</a
	    > :: [(<a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-String.html#t:String"
	    >String</a
	    >, <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-String.html#t:String"
	    >String</a
	    >)] -&gt; <a href="NationStates-Core.html#t:Query"
	    >Query</a
	    ></li
	  ><li class="src short"
	  ><a href="#v:withParams"
	    >withParams</a
	    > :: [(<a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-String.html#t:String"
	    >String</a
	    >, <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-String.html#t:String"
	    >String</a
	    >)] -&gt; <a href="NationStates-Core.html#t:Query"
	    >Query</a
	    ></li
	  ><li class="src short"
	  ><span class="keyword"
	    >data</span
	    > <a href="#t:Context"
	    >Context</a
	    > = <a href="#v:Context"
	    >Context</a
	    > {<ul class="subs"
	    ><li
	      ><a href="#v:contextManager"
		>contextManager</a
		> :: <a href="https://hackage.haskell.org/package/http-client-0.4.25/docs/Network-HTTP-Client.html#t:Manager"
		>Manager</a
		></li
	      ><li
	      ><a href="#v:contextRateLimit"
		>contextRateLimit</a
		> :: <span class="keyword"
		>forall</span
		> a. <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/System-IO.html#t:IO"
		>IO</a
		> a -&gt; <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/System-IO.html#t:IO"
		>IO</a
		> a</li
	      ><li
	      ><a href="#v:contextIsSecure"
		>contextIsSecure</a
		> :: <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-Bool.html#t:Bool"
		>Bool</a
		></li
	      ><li
	      ><a href="#v:contextUserAgent"
		>contextUserAgent</a
		> :: <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-String.html#t:String"
		>String</a
		></li
	      ></ul
	    >}</li
	  ><li class="src short"
	  ><a href="#v:wordsBy"
	    >wordsBy</a
	    > :: (a -&gt; <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-Bool.html#t:Bool"
	    >Bool</a
	    >) -&gt; [a] -&gt; [[a]]</li
	  ><li class="src short"
	  ><a href="#v:readMaybe"
	    >readMaybe</a
	    > :: <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Text-Read.html#t:Read"
	    >Read</a
	    > a =&gt; <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-String.html#t:String"
	    >String</a
	    > -&gt; <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-Maybe.html#t:Maybe"
	    >Maybe</a
	    > a</li
	  ><li class="src short"
	  ><a href="#v:expect"
	    >expect</a
	    > :: <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-String.html#t:String"
	    >String</a
	    > -&gt; <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-String.html#t:String"
	    >String</a
	    > -&gt; <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-Maybe.html#t:Maybe"
	    >Maybe</a
	    > a -&gt; a</li
	  ><li class="src short"
	  ><a href="#v:pureIf"
	    >pureIf</a
	    > :: <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Control-Applicative.html#t:Alternative"
	    >Alternative</a
	    > f =&gt; (a -&gt; <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-Bool.html#t:Bool"
	    >Bool</a
	    >) -&gt; a -&gt; f a</li
	  ><li class="src short"
	  >module <a href="NationStates-Types.html"
	    >NationStates.Types</a
	    ></li
	  ></ul
	></div
      ><div id="interface"
      ><h1 id="g:1"
	>Requests</h1
	><div class="top"
	><p class="src"
	  ><span class="keyword"
	    >type</span
	    > <a href="#t:NS" id="t:NS" class="def"
	    >NS</a
	    > = <a href="https://hackage.haskell.org/package/transformers-0.4.2.0/docs/Data-Functor-Compose.html#t:Compose"
	    >Compose</a
	    > (<a href="https://hackage.haskell.org/package/ghc-prim-0.4.0.0/docs/GHC-Tuple.html#t:-40--44--41-"
	    >(,)</a
	    > <a href="NationStates-Core.html#t:Query"
	    >Query</a
	    >) (<a href="https://hackage.haskell.org/package/transformers-0.4.2.0/docs/Data-Functor-Compose.html#t:Compose"
	    >Compose</a
	    > ((-&gt;) <a href="NationStates-Core.html#t:Query"
	    >Query</a
	    >) ((-&gt;) <a href="https://hackage.haskell.org/package/xml-1.3.14/docs/Text-XML-Light-Types.html#t:Element"
	    >Element</a
	    >)) <a href="src/NationStates.Core.html#NS" class="link"
	    >Source</a
	    ></p
	  ><div class="doc"
	  ><p
	    >A request to the NationStates API.</p
	    ><ul
	    ><li
	      >Construct an <code
		>NS</code
		> using <code
		><a href="NationStates-Core.html#v:makeNS"
		  >makeNS</a
		  ></code
		> or <code
		><a href="NationStates-Core.html#v:makeNS-39-"
		  >makeNS'</a
		  ></code
		>.</li
	      ><li
	      >Compose <code
		>NS</code
		> values using the <code
		><a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Control-Applicative.html#t:Applicative"
		  >Applicative</a
		  ></code
		> interface.</li
	      ><li
	      >Execute an <code
		>NS</code
		> using <code
		><a href="NationStates-Core.html#v:requestNS"
		  >requestNS</a
		  ></code
		>.</li
	      ></ul
	    ><p
	    >This type wraps a query string, along with a function that parses the
 response. The funky type machinery keeps these two parts in sync, as
 long as you stick to the <code
	      ><a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Control-Applicative.html#t:Applicative"
		>Applicative</a
		></code
	      > interface.</p
	    ><pre
	    >type NS a = (<code
	      ><a href="NationStates-Core.html#t:Query"
		>Query</a
		></code
	      >, Query -&gt; <code
	      ><a href="https://hackage.haskell.org/package/xml-1.3.14/docs/Text-XML-Light-Types.html#t:Element"
		>Element</a
		></code
	      > -&gt; a)
</pre
	    ></div
	  ></div
	><div class="top"
	><p class="src"
	  ><a href="#v:makeNS" id="v:makeNS" class="def"
	    >makeNS</a
	    > <a href="src/NationStates.Core.html#makeNS" class="link"
	    >Source</a
	    ></p
	  ><div class="subs arguments"
	  ><p class="caption"
	    >Arguments</p
	    ><table
	    ><tr
	      ><td class="src"
		>:: <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-String.html#t:String"
		  >String</a
		  ></td
		><td class="doc"
		><p
		  >Shard name</p
		  ></td
		></tr
	      ><tr
	      ><td class="src"
		>-&gt; <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-String.html#t:String"
		  >String</a
		  ></td
		><td class="doc"
		><p
		  >XML element name</p
		  ></td
		></tr
	      ><tr
	      ><td class="src"
		>-&gt; <a href="NationStates-Core.html#t:NS"
		  >NS</a
		  > <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-String.html#t:String"
		  >String</a
		  ></td
		><td class="doc empty"
		>&nbsp;</td
		></tr
	      ></table
	    ></div
	  ><div class="doc"
	  ><p
	    >Construct a request for a single shard.</p
	    ><p
	    >For example, this code requests the
 <a href="https://www.nationstates.net/cgi-bin/api.cgi?nation=testlandia&amp;q=motto"
	      >&quot;motto&quot;</a
	      >
 shard:</p
	    ><pre
	    >motto :: NS String
motto = makeNS &quot;motto&quot; &quot;MOTTO&quot;
</pre
	    ><p
	    >For more complex requests (e.g. nested elements), try <code
	      ><a href="NationStates-Core.html#v:makeNS-39-"
		>makeNS'</a
		></code
	      > instead.</p
	    ></div
	  ></div
	><div class="top"
	><p class="src"
	  ><a href="#v:makeNS-39-" id="v:makeNS-39-" class="def"
	    >makeNS'</a
	    > <a href="src/NationStates.Core.html#makeNS%27" class="link"
	    >Source</a
	    ></p
	  ><div class="subs arguments"
	  ><p class="caption"
	    >Arguments</p
	    ><table
	    ><tr
	      ><td class="src"
		>:: <a href="NationStates-Core.html#t:Query"
		  >Query</a
		  ></td
		><td class="doc"
		><p
		  >Query string</p
		  ></td
		></tr
	      ><tr
	      ><td class="src"
		>-&gt; (<a href="NationStates-Core.html#t:Query"
		  >Query</a
		  > -&gt; <a href="https://hackage.haskell.org/package/xml-1.3.14/docs/Text-XML-Light-Types.html#t:Element"
		  >Element</a
		  > -&gt; a)</td
		><td class="doc"
		><p
		  >Function for parsing the response</p
		  ></td
		></tr
	      ><tr
	      ><td class="src"
		>-&gt; <a href="NationStates-Core.html#t:NS"
		  >NS</a
		  > a</td
		><td class="doc empty"
		>&nbsp;</td
		></tr
	      ></table
	    ></div
	  ><div class="doc"
	  ><p
	    >Construct a request.</p
	    ></div
	  ></div
	><div class="top"
	><p class="src"
	  ><a href="#v:requestNS" id="v:requestNS" class="def"
	    >requestNS</a
	    > <a href="src/NationStates.Core.html#requestNS" class="link"
	    >Source</a
	    ></p
	  ><div class="subs arguments"
	  ><p class="caption"
	    >Arguments</p
	    ><table
	    ><tr
	      ><td class="src"
		>:: <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-Maybe.html#t:Maybe"
		  >Maybe</a
		  > (<a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-String.html#t:String"
		  >String</a
		  >, <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-String.html#t:String"
		  >String</a
		  >)</td
		><td class="doc"
		><p
		  >Request type</p
		  ></td
		></tr
	      ><tr
	      ><td class="src"
		>-&gt; <a href="NationStates-Core.html#t:NS"
		  >NS</a
		  > a</td
		><td class="doc"
		><p
		  >Set of shards to request</p
		  ></td
		></tr
	      ><tr
	      ><td class="src"
		>-&gt; <a href="NationStates-Core.html#t:Context"
		  >Context</a
		  ></td
		><td class="doc"
		><p
		  >Connection manager</p
		  ></td
		></tr
	      ><tr
	      ><td class="src"
		>-&gt; <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/System-IO.html#t:IO"
		  >IO</a
		  > a</td
		><td class="doc empty"
		>&nbsp;</td
		></tr
	      ></table
	    ></div
	  ><div class="doc"
	  ><p
	    >Perform a request on the NationStates API.</p
	    ></div
	  ></div
	><div class="top"
	><p class="src"
	  ><a href="#v:apiVersion" id="v:apiVersion" class="def"
	    >apiVersion</a
	    > :: <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Prelude.html#t:Integer"
	    >Integer</a
	    > <a href="src/NationStates.Core.html#apiVersion" class="link"
	    >Source</a
	    ></p
	  ><div class="doc"
	  ><p
	    >The version of the NationStates API used by this package.</p
	    ><p
	    >Every request to NationStates includes this number. This means that
 if the response format changes, existing code will continue to work
 under the old API.</p
	    ><p
	    >This number should match the current API version, as given by
 <a href="https://www.nationstates.net/cgi-bin/api.cgi?a=version"
	      >https://www.nationstates.net/cgi-bin/api.cgi?a=version</a
	      >. If not,
 please file an issue.</p
	    ></div
	  ></div
	><h1 id="g:2"
	>Query strings</h1
	><div class="top"
	><p class="src"
	  ><span class="keyword"
	    >data</span
	    > <a href="#t:Query" id="t:Query" class="def"
	    >Query</a
	    > <a href="src/NationStates.Core.html#Query" class="link"
	    >Source</a
	    ></p
	  ><div class="doc"
	  ><p
	    >Keeps track of the set of shards to request.</p
	    ></div
	  ><div class="subs constructors"
	  ><p class="caption"
	    >Constructors</p
	    ><table
	    ><tr
	      ><td class="src"
		><a href="#v:Query" id="v:Query" class="def"
		  >Query</a
		  ></td
		><td class="doc empty"
		>&nbsp;</td
		></tr
	      ><tr
	      ><td colspan="2"
		><div class="subs fields"
		  ><p class="caption"
		    >Fields</p
		    ><ul
		    ><li
		      ><dfn class="src"
			><a href="#v:queryShards" id="v:queryShards" class="def"
			  >queryShards</a
			  > :: <a href="https://hackage.haskell.org/package/containers-0.5.6.2/docs/Data-Map-Lazy.html#t:Map"
			  >Map</a
			  > <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-String.html#t:String"
			  >String</a
			  > (<a href="https://hackage.haskell.org/package/containers-0.5.6.2/docs/Data-Set.html#t:Set"
			  >Set</a
			  > (<a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-Maybe.html#t:Maybe"
			  >Maybe</a
			  > <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Prelude.html#t:Integer"
			  >Integer</a
			  >))</dfn
			><div class="doc empty"
			>&nbsp;</div
			></li
		      ><li
		      ><dfn class="src"
			><a href="#v:queryOptions" id="v:queryOptions" class="def"
			  >queryOptions</a
			  > :: <a href="https://hackage.haskell.org/package/containers-0.5.6.2/docs/Data-Map-Lazy.html#t:Map"
			  >Map</a
			  > <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-String.html#t:String"
			  >String</a
			  > <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-String.html#t:String"
			  >String</a
			  ></dfn
			><div class="doc empty"
			>&nbsp;</div
			></li
		      ><li
		      ><dfn class="src"
			><a href="#v:queryParams" id="v:queryParams" class="def"
			  >queryParams</a
			  > :: <a href="https://hackage.haskell.org/package/containers-0.5.6.2/docs/Data-Map-Lazy.html#t:Map"
			  >Map</a
			  > <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-String.html#t:String"
			  >String</a
			  > <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-String.html#t:String"
			  >String</a
			  ></dfn
			><div class="doc empty"
			>&nbsp;</div
			></li
		      ></ul
		    ></div
		  ></td
		></tr
	      ></table
	    ></div
	  ><div class="subs instances"
	  ><p id="control.i:Query" class="caption collapser" onclick="toggleSection('i:Query')"
	    >Instances</p
	    ><div id="section.i:Query" class="show"
	    ><table
	      ><tr
		><td class="src clearfix"
		  ><span class="inst-left"
		    ><span id="control.i:id:Query:Show:1" class="instance expander" onclick="toggleSection('i:id:Query:Show:1')"
		      ></span
		      > <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Text-Show.html#t:Show"
		      >Show</a
		      > <a href="NationStates-Core.html#t:Query"
		      >Query</a
		      ></span
		    > <a href="src/NationStates.Core.html#line-168" class="link"
		    >Source</a
		    ></td
		  ><td class="doc empty"
		  >&nbsp;</td
		  ></tr
		><tr
		><td colspan="2"
		  ><div id="section.i:id:Query:Show:1" class="inst-details hide"
		    ><div class="subs methods"
		      ><p class="caption"
			>Methods</p
			><p class="src"
			><a href="#v:showsPrec"
			  >showsPrec</a
			  > :: <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-Int.html#t:Int"
			  >Int</a
			  > -&gt; <a href="NationStates-Core.html#t:Query"
			  >Query</a
			  > -&gt; <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Text-Show.html#t:ShowS"
			  >ShowS</a
			  ></p
			><p class="src"
			><a href="#v:show"
			  >show</a
			  > :: <a href="NationStates-Core.html#t:Query"
			  >Query</a
			  > -&gt; <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-String.html#t:String"
			  >String</a
			  ></p
			><p class="src"
			><a href="#v:showList"
			  >showList</a
			  > :: [<a href="NationStates-Core.html#t:Query"
			  >Query</a
			  >] -&gt; <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Text-Show.html#t:ShowS"
			  >ShowS</a
			  ></p
			></div
		      ></div
		    ></td
		  ></tr
		><tr
		><td class="src clearfix"
		  ><span class="inst-left"
		    ><span id="control.i:id:Query:Monoid:2" class="instance expander" onclick="toggleSection('i:id:Query:Monoid:2')"
		      ></span
		      > <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-Monoid.html#t:Monoid"
		      >Monoid</a
		      > <a href="NationStates-Core.html#t:Query"
		      >Query</a
		      ></span
		    > <a href="src/NationStates.Core.html#line-170" class="link"
		    >Source</a
		    ></td
		  ><td class="doc empty"
		  >&nbsp;</td
		  ></tr
		><tr
		><td colspan="2"
		  ><div id="section.i:id:Query:Monoid:2" class="inst-details hide"
		    ><div class="subs methods"
		      ><p class="caption"
			>Methods</p
			><p class="src"
			><a href="#v:mempty"
			  >mempty</a
			  > :: <a href="NationStates-Core.html#t:Query"
			  >Query</a
			  ></p
			><p class="src"
			><a href="#v:mappend"
			  >mappend</a
			  > :: <a href="NationStates-Core.html#t:Query"
			  >Query</a
			  > -&gt; <a href="NationStates-Core.html#t:Query"
			  >Query</a
			  > -&gt; <a href="NationStates-Core.html#t:Query"
			  >Query</a
			  ></p
			><p class="src"
			><a href="#v:mconcat"
			  >mconcat</a
			  > :: [<a href="NationStates-Core.html#t:Query"
			  >Query</a
			  >] -&gt; <a href="NationStates-Core.html#t:Query"
			  >Query</a
			  ></p
			></div
		      ></div
		    ></td
		  ></tr
		></table
	      ></div
	    ></div
	  ></div
	><div class="top"
	><p class="src"
	  ><a href="#v:shard" id="v:shard" class="def"
	    >shard</a
	    > :: <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-String.html#t:String"
	    >String</a
	    > -&gt; <a href="NationStates-Core.html#t:Query"
	    >Query</a
	    > <a href="src/NationStates.Core.html#shard" class="link"
	    >Source</a
	    ></p
	  ><div class="doc"
	  ><p
	    >Create a query for a single shard.</p
	    ></div
	  ></div
	><div class="top"
	><p class="src"
	  ><a href="#v:shard-39-" id="v:shard-39-" class="def"
	    >shard'</a
	    > :: <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-String.html#t:String"
	    >String</a
	    > -&gt; <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Prelude.html#t:Integer"
	    >Integer</a
	    > -&gt; <a href="NationStates-Core.html#t:Query"
	    >Query</a
	    > <a href="src/NationStates.Core.html#shard%27" class="link"
	    >Source</a
	    ></p
	  ><div class="doc"
	  ><p
	    >Create a query for a single shard, with an extra ID.</p
	    ><p
	    >For example, the <code
	      >censusscore-23</code
	      > shard would be written as:
 <code
	      >shard' &quot;censusscore&quot; 23</code
	      >.</p
	    ></div
	  ></div
	><div class="top"
	><p class="src"
	  ><a href="#v:withOptions" id="v:withOptions" class="def"
	    >withOptions</a
	    > :: [(<a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-String.html#t:String"
	    >String</a
	    >, <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-String.html#t:String"
	    >String</a
	    >)] -&gt; <a href="NationStates-Core.html#t:Query"
	    >Query</a
	    > <a href="src/NationStates.Core.html#withOptions" class="link"
	    >Source</a
	    ></p
	  ><div class="doc"
	  ><p
	    >Add extra <code
	      >;</code
	      >-delimited arguments.</p
	    ></div
	  ></div
	><div class="top"
	><p class="src"
	  ><a href="#v:withParams" id="v:withParams" class="def"
	    >withParams</a
	    > :: [(<a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-String.html#t:String"
	    >String</a
	    >, <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-String.html#t:String"
	    >String</a
	    >)] -&gt; <a href="NationStates-Core.html#t:Query"
	    >Query</a
	    > <a href="src/NationStates.Core.html#withParams" class="link"
	    >Source</a
	    ></p
	  ><div class="doc"
	  ><p
	    >Add extra <code
	      >&amp;</code
	      >-delimited arguments.</p
	    ></div
	  ></div
	><h1 id="g:3"
	>Connection manager</h1
	><div class="top"
	><p class="src"
	  ><span class="keyword"
	    >data</span
	    > <a href="#t:Context" id="t:Context" class="def"
	    >Context</a
	    > <a href="src/NationStates.Core.html#Context" class="link"
	    >Source</a
	    ></p
	  ><div class="doc"
	  ><p
	    >Keeps track of rate limits and TLS connections.</p
	    ><p
	    >You should create a single <code
	      ><a href="NationStates-Core.html#t:Context"
		>Context</a
		></code
	      > at the start of your program,
 then share it between multiple threads and requests.</p
	    ></div
	  ><div class="subs constructors"
	  ><p class="caption"
	    >Constructors</p
	    ><table
	    ><tr
	      ><td class="src"
		><a href="#v:Context" id="v:Context" class="def"
		  >Context</a
		  ></td
		><td class="doc empty"
		>&nbsp;</td
		></tr
	      ><tr
	      ><td colspan="2"
		><div class="subs fields"
		  ><p class="caption"
		    >Fields</p
		    ><ul
		    ><li
		      ><dfn class="src"
			><a href="#v:contextManager" id="v:contextManager" class="def"
			  >contextManager</a
			  > :: <a href="https://hackage.haskell.org/package/http-client-0.4.25/docs/Network-HTTP-Client.html#t:Manager"
			  >Manager</a
			  ></dfn
			><div class="doc empty"
			>&nbsp;</div
			></li
		      ><li
		      ><dfn class="src"
			><a href="#v:contextRateLimit" id="v:contextRateLimit" class="def"
			  >contextRateLimit</a
			  > :: <span class="keyword"
			  >forall</span
			  > a. <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/System-IO.html#t:IO"
			  >IO</a
			  > a -&gt; <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/System-IO.html#t:IO"
			  >IO</a
			  > a</dfn
			><div class="doc empty"
			>&nbsp;</div
			></li
		      ><li
		      ><dfn class="src"
			><a href="#v:contextIsSecure" id="v:contextIsSecure" class="def"
			  >contextIsSecure</a
			  > :: <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-Bool.html#t:Bool"
			  >Bool</a
			  ></dfn
			><div class="doc empty"
			>&nbsp;</div
			></li
		      ><li
		      ><dfn class="src"
			><a href="#v:contextUserAgent" id="v:contextUserAgent" class="def"
			  >contextUserAgent</a
			  > :: <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-String.html#t:String"
			  >String</a
			  ></dfn
			><div class="doc empty"
			>&nbsp;</div
			></li
		      ></ul
		    ></div
		  ></td
		></tr
	      ></table
	    ></div
	  ></div
	><h1 id="g:4"
	>Utilities</h1
	><div class="top"
	><p class="src"
	  ><a href="#v:wordsBy" id="v:wordsBy" class="def"
	    >wordsBy</a
	    > :: (a -&gt; <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-Bool.html#t:Bool"
	    >Bool</a
	    >) -&gt; [a] -&gt; [[a]] <a href="src/NationStates.Core.html#wordsBy" class="link"
	    >Source</a
	    ></p
	  ><div class="doc"
	  ><p
	    >Split a list by the given predicate, dropping empty sublists.</p
	    ><pre class="screen"
	    ><code class="prompt"
	      >&gt;&gt;&gt; </code
	      ><strong class="userinput"
	      ><code
		>wordsBy (== ',') &quot;the_vines,motesardo-east_adanzi,yellowapple&quot;
</code
		></strong
	      >[&quot;the_vines&quot;, &quot;montesardo-east_adanzi&quot;, &quot;yellowapple&quot;]
</pre
	    ><pre class="screen"
	    ><code class="prompt"
	      >&gt;&gt;&gt; </code
	      ><strong class="userinput"
	      ><code
		>wordsBy (== ',') &quot;&quot;
</code
		></strong
	      >[]
</pre
	    ></div
	  ></div
	><div class="top"
	><p class="src"
	  ><a href="#v:readMaybe" id="v:readMaybe" class="def"
	    >readMaybe</a
	    > :: <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Text-Read.html#t:Read"
	    >Read</a
	    > a =&gt; <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-String.html#t:String"
	    >String</a
	    > -&gt; <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-Maybe.html#t:Maybe"
	    >Maybe</a
	    > a</p
	  ><div class="doc"
	  ><p
	    >Parse a string using the <code
	      ><a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Text-Read.html#t:Read"
		>Read</a
		></code
	      > instance.
 Succeeds if there is exactly one valid result.</p
	    ><p
	    ><em
	      >Since: 4.6.0.0</em
	      ></p
	    ></div
	  ></div
	><div class="top"
	><p class="src"
	  ><a href="#v:expect" id="v:expect" class="def"
	    >expect</a
	    > :: <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-String.html#t:String"
	    >String</a
	    > -&gt; <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-String.html#t:String"
	    >String</a
	    > -&gt; <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-Maybe.html#t:Maybe"
	    >Maybe</a
	    > a -&gt; a <a href="src/NationStates.Core.html#expect" class="link"
	    >Source</a
	    ></p
	  ><div class="doc"
	  ><p
	    >Parse an input string using the given parser function.</p
	    ><p
	    >If parsing fails, raise an <code
	      ><a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Prelude.html#v:error"
		>error</a
		></code
	      >.</p
	    ><pre class="screen"
	    ><code class="prompt"
	      >&gt;&gt;&gt; </code
	      ><strong class="userinput"
	      ><code
		>(expect &quot;integer&quot; &lt;*&gt; readMaybe) &quot;42&quot; :: Integer
</code
		></strong
	      >42
</pre
	    ><pre class="screen"
	    ><code class="prompt"
	      >&gt;&gt;&gt; </code
	      ><strong class="userinput"
	      ><code
		>(expect &quot;integer&quot; &lt;*&gt; readMaybe) &quot;butts&quot; :: Integer
</code
		></strong
	      >*** Exception: expected integer but got: butts
</pre
	    ></div
	  ></div
	><div class="top"
	><p class="src"
	  ><a href="#v:pureIf" id="v:pureIf" class="def"
	    >pureIf</a
	    > :: <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Control-Applicative.html#t:Alternative"
	    >Alternative</a
	    > f =&gt; (a -&gt; <a href="https://hackage.haskell.org/package/base-4.8.0.0/docs/Data-Bool.html#t:Bool"
	    >Bool</a
	    >) -&gt; a -&gt; f a <a href="src/NationStates.Core.html#pureIf" class="link"
	    >Source</a
	    ></p
	  ><div class="doc"
	  ><p
	    >Return the value only if the given predicate is true.</p
	    ><pre class="screen"
	    ><code class="prompt"
	      >&gt;&gt;&gt; </code
	      ><strong class="userinput"
	      ><code
		>pureIf (&gt; 0) 5 :: Maybe Integer
</code
		></strong
	      >Just 5
</pre
	    ><pre class="screen"
	    ><code class="prompt"
	      >&gt;&gt;&gt; </code
	      ><strong class="userinput"
	      ><code
		>pureIf (&gt; 0) (-2) :: Maybe Integer
</code
		></strong
	      >Nothing
</pre
	    ></div
	  ></div
	><h1 id="g:5"
	>Data structures</h1
	><div class="top"
	><p class="src"
	  >module <a href="NationStates-Types.html"
	    >NationStates.Types</a
	    ></p
	  ></div
	></div
      ></div
    ><div id="footer"
    ><p
      >Produced by <a href="http://www.haskell.org/haddock/"
	>Haddock</a
	> version 2.16.2</p
      ></div
    ></body
  ></html
>
